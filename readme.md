# README.md

โค้ดชุดนี้เป็นสคริปต์ Bash ที่ใช้ในการดึงข้อมูลจาก HashiCorp Vault และสร้างไฟล์ environment ตามรายการคีย์ที่พบใน Vault โดยตรวจสอบเวอร์ชันและปรับปรุงเฉพาะไฟล์ที่มีเวอร์ชันใหม่ สคริปต์จะอ่านค่าจากไฟล์ `vault.env` ที่จำเป็นต้องมีเพื่อระบุตัวแปรแวดล้อมที่ใช้ในการเชื่อมต่อกับ Vault และกำหนดค่าต่างๆ ส่วนอื่น ๆ ของโค้ดจะดำเนินการดึงข้อมูลจาก Vault และสร้างไฟล์ environment โดยใช้ชื่อไฟล์และเนื้อหาที่ได้จาก Vault

ถ้าใช้ชื่อไฟล์ ที่ลงท้ายด้วย env จะสร้างไฟล์และข้อมูลข้างในให้เป็นในรูปแบบของ .env
ตัวอย่างข้อมูล
FIELD_NAME=VALUE

แต่ถ้าไม่ได้ลงท้าย env จะสร้างตามชื่อ แต่ข้อมูลข้างในจะเป็น Format json

## vault.env

ไฟล์ `vault.env` เป็นไฟล์ที่จำเป็นต้องมีสำหรับการใช้งานสคริปต์นี้ เพื่อระบุค่าตัวแปรแวดล้อมที่จำเป็นในการเชื่อมต่อกับ HashiCorp Vault และการกำหนดค่าอื่น ๆ ต่อไปนี้เป็นตัวอย่างเนื้อหาในไฟล์ `vault.env`:

```
HOST=https://vault.test.com
TOKEN=token_of_the_hashi_vault
PROJECT_NAME=project-name
PROJECT_PATH=api
DESTINATION=folder-name
```

คุณสามารถแก้ไขค่าในไฟล์ `vault.env` เพื่อให้ตรงกับการตั้งค่าของคุณเอง โดยกำหนดค่าต่าง ๆ ตามที่คุณต้องการให้สคริปต์สามารถเชื่อมต่อกับ Vault และสร้างไฟล์ environment ได้ถูกต้อง

## การใช้งาน

1. นำโค้ดไปวางไว้ในโปรเจค
2. ตรวจสอบและแก้ไขไฟล์ `vault.env` เพื่อตั้งค่า
3. เปิดที่สคริปต์ใน Terminal หรือเครื่องมือที่ใช้งาน Bash
4. เรียกใช้สคริปต์โดยใช้คำสั่ง `./vault.sh`

สคริปต์จะทำงานโดยดึงข้อมูลจาก HashiCorp Vault และสร้างไฟล์ environment ตามค่าที่คุณตั้งค่าในไฟล์ `vault.env` โดยจะตรวจสอบเวอร์ชันของไฟล์เพื่อค้นหาไฟล์ที่มีเวอร์ชันใหม่ และถ้าพบไฟล์ที่มีเวอร์ชันใหม่ สคริปต์จะแสดงข้อมูลใหม่ของไฟล์นั้น และให้คุณเลือกอัปเดตเวอร์ชันหรือไม่อัพเดต

## ผู้จัดทำ

สคริปต์นี้ถูกสร้างขึ้นโดย ComdevX
Facebook: [https://www.facebook.com/devpairueai](https://www.facebook.com/devpairueai)